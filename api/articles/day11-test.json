{"title":"day11-test","uid":"f09eba89e1a54dd5af837a68dbc3d494","slug":"day11-test","date":"2025-08-25T07:41:09.000Z","updated":"2025-09-02T07:47:14.676Z","comments":true,"path":"api/articles/day11-test.json","keywords":null,"cover":[],"content":"<h2 id=\"1、通关dvwa靶场三个难度的反射型xss\"><a href=\"#1、通关dvwa靶场三个难度的反射型xss\" class=\"headerlink\" title=\"1、通关dvwa靶场三个难度的反射型xss\"></a>1、通关dvwa靶场三个难度的反射型xss</h2><h3 id=\"LOW\"><a href=\"#LOW\" class=\"headerlink\" title=\"LOW\"></a>LOW</h3><p><img src=\"https://cdn.jsdelivr.net/gh/Five0ne15/picgo_pic@main/picgo_picture/image-20250825111955459.png\" alt=\"image-20250825111955459\"></p>\n<p>在输入框中输入<code>&lt;script&gt;alert(/123/)&lt;/script&gt;</code>点击Submit提交，页面显示弹窗，内容为123</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/Five0ne15/picgo_pic@main/picgo_picture/image-20250825112013993.png\" alt=\"image-20250825112013993\"></p>\n<p>查看源代码</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_ invoke__\">header</span> (<span class=\"string\">&quot;X-XSS-Protection: 0&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Is there any input?</span></span><br><span class=\"line\"><span class=\"keyword\">if</span>( <span class=\"title function_ invoke__\">array_key_exists</span>( <span class=\"string\">&quot;name&quot;</span>, <span class=\"variable\">$_GET</span> ) &amp;&amp; <span class=\"variable\">$_GET</span>[ <span class=\"string\">&#x27;name&#x27;</span> ] != <span class=\"literal\">NULL</span> ) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// Feedback for end user</span></span><br><span class=\"line\">    <span class=\"keyword\">echo</span> <span class=\"string\">&#x27;&lt;pre&gt;Hello &#x27;</span> . <span class=\"variable\">$_GET</span>[ <span class=\"string\">&#x27;name&#x27;</span> ] . <span class=\"string\">&#x27;&lt;/pre&gt;&#x27;</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">?&gt;</span> </span><br></pre></td></tr></table></figure>\n\n<p>就是一个简单的传参，然后拼接到 html 中去，没有进行任何过滤，导致输入简单的 js 代码也能执行</p>\n<h3 id=\"Medium\"><a href=\"#Medium\" class=\"headerlink\" title=\"Medium\"></a>Medium</h3><p><img src=\"https://cdn.jsdelivr.net/gh/Five0ne15/picgo_pic@main/picgo_picture/image-20250825112249349.png\" alt=\"image-20250825112249349\"></p>\n<p>在输入框中输入<code>&lt;Script&gt;alert(1)&lt;/script&gt;</code>点击Submit提交，页面显示弹窗，内容为1</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/Five0ne15/picgo_pic@main/picgo_picture/image-20250825155120230.png\" alt=\"image-20250825155120230\"></p>\n<p>查看源代码</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_ invoke__\">header</span> (<span class=\"string\">&quot;X-XSS-Protection: 0&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Is there any input?</span></span><br><span class=\"line\"><span class=\"keyword\">if</span>( <span class=\"title function_ invoke__\">array_key_exists</span>( <span class=\"string\">&quot;name&quot;</span>, <span class=\"variable\">$_GET</span> ) &amp;&amp; <span class=\"variable\">$_GET</span>[ <span class=\"string\">&#x27;name&#x27;</span> ] != <span class=\"literal\">NULL</span> ) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// Get input</span></span><br><span class=\"line\">    <span class=\"variable\">$name</span> = <span class=\"title function_ invoke__\">str_replace</span>( <span class=\"string\">&#x27;&lt;script&gt;&#x27;</span>, <span class=\"string\">&#x27;&#x27;</span>, <span class=\"variable\">$_GET</span>[ <span class=\"string\">&#x27;name&#x27;</span> ] );</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Feedback for end user</span></span><br><span class=\"line\">    <span class=\"keyword\">echo</span> <span class=\"string\">&quot;&lt;pre&gt;Hello $&#123;name&#125;&lt;/pre&gt;&quot;</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">?&gt;</span> </span><br></pre></td></tr></table></figure>\n\n<p>发现只是对输入的内容如果存在<code>&lt;script&gt;</code>就进行替换，替换为空，同样也可以采用双写的方式，输入<code>&lt;scr&lt;script&gt;ipt&gt;alert(1)&lt;/script&gt;</code>，也会显示弹窗</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/Five0ne15/picgo_pic@main/picgo_picture/image-20250825155452671.png\" alt=\"image-20250825155452671\"></p>\n<h3 id=\"High\"><a href=\"#High\" class=\"headerlink\" title=\"High\"></a>High</h3><p><img src=\"https://cdn.jsdelivr.net/gh/Five0ne15/picgo_pic@main/picgo_picture/image-20250825112320262.png\" alt=\"image-20250825112320262\"></p>\n<p>在输入框输入<code>&lt;img src=&quot;E:\\blog\\source\\_posts\\x&quot; onerror=alert(1);&gt;</code>点击Submit提交，页面显示弹窗，内容为1</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/Five0ne15/picgo_pic@main/picgo_picture/image-20250825155926636.png\" alt=\"image-20250825155926636\"></p>\n<p>查看源代码</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"title function_ invoke__\">header</span> (<span class=\"string\">&quot;X-XSS-Protection: 0&quot;</span>);</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"comment\">// Is there any input?</span></span><br><span class=\"line\"><span class=\"keyword\">if</span>( <span class=\"title function_ invoke__\">array_key_exists</span>( <span class=\"string\">&quot;name&quot;</span>, <span class=\"variable\">$_GET</span> ) &amp;&amp; <span class=\"variable\">$_GET</span>[ <span class=\"string\">&#x27;name&#x27;</span> ] != <span class=\"literal\">NULL</span> ) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// Get input</span></span><br><span class=\"line\">    <span class=\"variable\">$name</span> = <span class=\"title function_ invoke__\">preg_replace</span>( <span class=\"string\">&#x27;/&lt;(.*)s(.*)c(.*)r(.*)i(.*)p(.*)t/i&#x27;</span>, <span class=\"string\">&#x27;&#x27;</span>, <span class=\"variable\">$_GET</span>[ <span class=\"string\">&#x27;name&#x27;</span> ] );</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Feedback for end user</span></span><br><span class=\"line\">    <span class=\"keyword\">echo</span> <span class=\"string\">&quot;&lt;pre&gt;Hello $&#123;name&#125;&lt;/pre&gt;&quot;</span>;</span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">?&gt;</span> </span><br></pre></td></tr></table></figure>\n\n<p>可以发现，代码想过滤掉用户输入中的 <code>&lt;script&gt;</code>标签（无论其字母大小写或中间是否插入了其他字符），我们可以尝试使用别的方式进行攻击，用<code>&lt;img&gt;</code>标签，标签中的<code>src</code>会去访问后面紧跟的<code>URL</code>地址，如果访问不到会报错，<code>onerror</code>就是在加载图片失败后触发，触发弹窗。</p>\n<h2 id=\"2、演示反射型，存储型，DOM型XSS漏洞，说明三者的区别\"><a href=\"#2、演示反射型，存储型，DOM型XSS漏洞，说明三者的区别\" class=\"headerlink\" title=\"2、演示反射型，存储型，DOM型XSS漏洞，说明三者的区别\"></a>2、演示反射型，存储型，DOM型XSS漏洞，说明三者的区别</h2><h3 id=\"反射型\"><a href=\"#反射型\" class=\"headerlink\" title=\"反射型\"></a>反射型</h3><p><img src=\"https://cdn.jsdelivr.net/gh/Five0ne15/picgo_pic@main/picgo_picture/image-20250825112320262.png\" alt=\"image-20250825112320262\"></p>\n<p>在输入框中输入<code>&lt;script&gt;alert(/123/)&lt;/script&gt;</code>点击Submit提交，页面显示弹窗，内容为123</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/Five0ne15/picgo_pic@main/picgo_picture/image-20250825112013993.png\" alt=\"image-20250825112013993\"></p>\n<h3 id=\"存储型\"><a href=\"#存储型\" class=\"headerlink\" title=\"存储型\"></a>存储型</h3><p><img src=\"https://cdn.jsdelivr.net/gh/Five0ne15/picgo_pic@main/picgo_picture/image-20250825161046196.png\" alt=\"image-20250825161046196\"></p>\n<p>在Name框里随便输入，在Message框里输入<code>&lt;script&gt;alert(123)&lt;/script&gt;</code>，点击Sign Guestbook进行提交，页面会出现弹窗</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/Five0ne15/picgo_pic@main/picgo_picture/image-20250825161124770.png\" alt=\"image-20250825161124770\"></p>\n<p>点击确定，现在切换页面，再切换回存储型XSS页面，发现一点击就会有弹窗</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/Five0ne15/picgo_pic@main/picgo_picture/image-20250825161405770.png\" alt=\"image-20250825161405770\"></p>\n<p>查看源代码</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br><span class=\"line\">17</span><br><span class=\"line\">18</span><br><span class=\"line\">19</span><br><span class=\"line\">20</span><br><span class=\"line\">21</span><br><span class=\"line\">22</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span></span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"keyword\">if</span>( <span class=\"keyword\">isset</span>( <span class=\"variable\">$_POST</span>[ <span class=\"string\">&#x27;btnSign&#x27;</span> ] ) ) &#123;</span><br><span class=\"line\">    <span class=\"comment\">// Get input</span></span><br><span class=\"line\">    <span class=\"variable\">$message</span> = <span class=\"title function_ invoke__\">trim</span>( <span class=\"variable\">$_POST</span>[ <span class=\"string\">&#x27;mtxMessage&#x27;</span> ] );</span><br><span class=\"line\">    <span class=\"variable\">$name</span>    = <span class=\"title function_ invoke__\">trim</span>( <span class=\"variable\">$_POST</span>[ <span class=\"string\">&#x27;txtName&#x27;</span> ] );</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Sanitize message input</span></span><br><span class=\"line\">    <span class=\"variable\">$message</span> = <span class=\"title function_ invoke__\">stripslashes</span>( <span class=\"variable\">$message</span> );</span><br><span class=\"line\">    <span class=\"variable\">$message</span> = ((<span class=\"keyword\">isset</span>(<span class=\"variable\">$GLOBALS</span>[<span class=\"string\">&quot;___mysqli_ston&quot;</span>]) &amp;&amp; <span class=\"title function_ invoke__\">is_object</span>(<span class=\"variable\">$GLOBALS</span>[<span class=\"string\">&quot;___mysqli_ston&quot;</span>])) ? <span class=\"title function_ invoke__\">mysqli_real_escape_string</span>(<span class=\"variable\">$GLOBALS</span>[<span class=\"string\">&quot;___mysqli_ston&quot;</span>],  <span class=\"variable\">$message</span> ) : ((<span class=\"title function_ invoke__\">trigger_error</span>(<span class=\"string\">&quot;[MySQLConverterToo] Fix the mysql_escape_string() call! This code does not work.&quot;</span>, E_USER_ERROR)) ? <span class=\"string\">&quot;&quot;</span> : <span class=\"string\">&quot;&quot;</span>));</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Sanitize name input</span></span><br><span class=\"line\">    <span class=\"variable\">$name</span> = ((<span class=\"keyword\">isset</span>(<span class=\"variable\">$GLOBALS</span>[<span class=\"string\">&quot;___mysqli_ston&quot;</span>]) &amp;&amp; <span class=\"title function_ invoke__\">is_object</span>(<span class=\"variable\">$GLOBALS</span>[<span class=\"string\">&quot;___mysqli_ston&quot;</span>])) ? <span class=\"title function_ invoke__\">mysqli_real_escape_string</span>(<span class=\"variable\">$GLOBALS</span>[<span class=\"string\">&quot;___mysqli_ston&quot;</span>],  <span class=\"variable\">$name</span> ) : ((<span class=\"title function_ invoke__\">trigger_error</span>(<span class=\"string\">&quot;[MySQLConverterToo] Fix the mysql_escape_string() call! This code does not work.&quot;</span>, E_USER_ERROR)) ? <span class=\"string\">&quot;&quot;</span> : <span class=\"string\">&quot;&quot;</span>));</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">// Update database</span></span><br><span class=\"line\">    <span class=\"variable\">$query</span>  = <span class=\"string\">&quot;INSERT INTO guestbook ( comment, name ) VALUES ( &#x27;<span class=\"subst\">$message</span>&#x27;, &#x27;<span class=\"subst\">$name</span>&#x27; );&quot;</span>;</span><br><span class=\"line\">    <span class=\"variable\">$result</span> = <span class=\"title function_ invoke__\">mysqli_query</span>(<span class=\"variable\">$GLOBALS</span>[<span class=\"string\">&quot;___mysqli_ston&quot;</span>],  <span class=\"variable\">$query</span> ) <span class=\"keyword\">or</span> <span class=\"keyword\">die</span>( <span class=\"string\">&#x27;&lt;pre&gt;&#x27;</span> . ((<span class=\"title function_ invoke__\">is_object</span>(<span class=\"variable\">$GLOBALS</span>[<span class=\"string\">&quot;___mysqli_ston&quot;</span>])) ? <span class=\"title function_ invoke__\">mysqli_error</span>(<span class=\"variable\">$GLOBALS</span>[<span class=\"string\">&quot;___mysqli_ston&quot;</span>]) : ((<span class=\"variable\">$___mysqli_res</span> = <span class=\"title function_ invoke__\">mysqli_connect_error</span>()) ? <span class=\"variable\">$___mysqli_res</span> : <span class=\"literal\">false</span>)) . <span class=\"string\">&#x27;&lt;/pre&gt;&#x27;</span> );</span><br><span class=\"line\"></span><br><span class=\"line\">    <span class=\"comment\">//mysql_close();</span></span><br><span class=\"line\">&#125;</span><br><span class=\"line\"></span><br><span class=\"line\"><span class=\"meta\">?&gt;</span> </span><br></pre></td></tr></table></figure>\n\n<p>可以看到代码将用户传递的参数插入到数据库中，因为在页面下方有显示留言板内容功能，会导致每次访问这个页面，都会执行弹窗代码</p>\n<h3 id=\"DOM型\"><a href=\"#DOM型\" class=\"headerlink\" title=\"DOM型\"></a>DOM型</h3><p><img src=\"https://cdn.jsdelivr.net/gh/Five0ne15/picgo_pic@main/picgo_picture/image-20250825161616594.png\" alt=\"image-20250825161616594\"></p>\n<p>在下拉列表随便选一个提交</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/Five0ne15/picgo_pic@main/picgo_picture/image-20250825161712338.png\" alt=\"image-20250825161712338\"></p>\n<p>直接在URL里面进行修改，输入<code>&lt;script&gt;alert(1)&lt;/script&gt;</code>，页面出现弹窗</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/Five0ne15/picgo_pic@main/picgo_picture/image-20250825161752270.png\" alt=\"image-20250825161752270\"></p>\n<p>DOM型XSS是整个攻击过程发生在客户端的 DOM 环境中，不涉及服务器。恶意脚本的来源（如 URL 片段 <code>#</code>后面的部分）被客户端 JavaScript 代码（如 <code>document.location</code>, <code>document.URL</code>, <code>document.referrer</code>或 <code>eval()</code>等）读取并动态地写入或修改了 DOM 结构，导致恶意脚本被执行。</p>\n<h3 id=\"区别\"><a href=\"#区别\" class=\"headerlink\" title=\"区别\"></a>区别</h3><table>\n<thead>\n<tr>\n<th>特性</th>\n<th>反射型 XSS (Reflected XSS)</th>\n<th>存储型 XSS (Stored XSS &#x2F; Persistent XSS)</th>\n<th>基于 DOM 的 XSS (DOM-based XSS)</th>\n</tr>\n</thead>\n<tbody><tr>\n<td><strong>别名</strong></td>\n<td>非持久型 XSS、类型 I XSS</td>\n<td>持久型 XSS、类型 II XSS</td>\n<td>类型 0 XSS</td>\n</tr>\n<tr>\n<td><strong>恶意脚本来源</strong></td>\n<td>在 HTTP <strong>请求</strong>中（URL 参数、表单数据等）</td>\n<td><strong>存储</strong>在服务器上（数据库、文件、消息等）</td>\n<td>在 HTTP <strong>请求</strong>中（通常是 URL 片段 <code>#</code>部分）</td>\n</tr>\n<tr>\n<td><strong>存储位置</strong></td>\n<td><strong>不存储</strong>在服务器上。</td>\n<td><strong>持久存储</strong>在服务器上。</td>\n<td><strong>不存储</strong>在服务器上。</td>\n</tr>\n<tr>\n<td><strong>注入点</strong></td>\n<td>服务器端代码将请求数据<strong>反射</strong>到响应页面中。</td>\n<td>服务器端代码将存储的数据<strong>输出</strong>到页面中。</td>\n<td><strong>客户端 JavaScript</strong> 读取请求数据（如 URL）并<strong>动态修改 DOM</strong>。</td>\n</tr>\n<tr>\n<td><strong>触发方式</strong></td>\n<td>需要<strong>诱骗用户点击</strong>一个包含恶意脚本的<strong>特制链接</strong>。</td>\n<td>用户<strong>正常访问</strong>包含恶意脚本的<strong>页面或资源</strong>即可。</td>\n<td>需要<strong>诱骗用户点击</strong>一个包含恶意脚本的<strong>特制链接</strong>。</td>\n</tr>\n<tr>\n<td><strong>受害者范围</strong></td>\n<td>只影响<strong>点击恶意链接</strong>的特定用户。</td>\n<td>影响<strong>所有访问</strong>包含恶意脚本页面的用户。</td>\n<td>只影响<strong>点击恶意链接</strong>的特定用户。</td>\n</tr>\n<tr>\n<td><strong>持久性</strong></td>\n<td><strong>非持久</strong>（一次性攻击）。</td>\n<td><strong>持久</strong>（长期存在，直到恶意数据被清除）。</td>\n<td><strong>非持久</strong>（一次性攻击）。</td>\n</tr>\n<tr>\n<td><strong>可见性</strong></td>\n<td>恶意脚本在 URL 中（可能被用户或安全软件发现）。</td>\n<td>恶意脚本隐藏在页面内容里，用户不易察觉。</td>\n<td>恶意脚本在 URL 片段（<code>#</code>后）中，服务器不可见，用户可能忽略。</td>\n</tr>\n<tr>\n<td><strong>服务器角色</strong></td>\n<td>服务器处理请求并生成包含恶意脚本的响应。</td>\n<td>服务器存储恶意数据并在生成页面时输出它。</td>\n<td>服务器返回“干净”的 HTML&#x2F;JS；漏洞纯在<strong>客户端 JS 逻辑</strong>中。</td>\n</tr>\n<tr>\n<td><strong>检测难度</strong></td>\n<td>相对容易（扫描器可模拟请求检测反射）。</td>\n<td>相对容易（扫描存储内容或爬取页面检测输出）。</td>\n<td><strong>最难检测</strong>（需要动态执行 JS 分析 DOM 操作）。</td>\n</tr>\n<tr>\n<td><strong>危害范围</strong></td>\n<td>通常针对个体用户（如钓鱼、窃取会话）。</td>\n<td><strong>危害最大</strong>，可大规模攻击（蠕虫、大规模数据窃取）。</td>\n<td>通常针对个体用户。</td>\n</tr>\n<tr>\n<td><strong>经典例子</strong></td>\n<td><code>https://bank.com/search?q=&lt;script&gt;alert(1)&lt;/script&gt;</code>用户点击后，搜索结果页执行脚本。</td>\n<td>攻击者在论坛发帖：<code>&lt;script&gt;stealCookie()&lt;/script&gt;</code>。 其他用户浏览该帖子时脚本执行。</td>\n<td><code>https://example.com#default=&lt;script&gt;alert(1)&lt;/script&gt;</code>页面 JS 将 <code>location.hash</code>写入 <code>innerHTML</code>，执行脚本。</td>\n</tr>\n<tr>\n<td><strong>防御关键点</strong></td>\n<td><strong>服务器端输出编码</strong>（对反射的数据进行转义）。</td>\n<td><strong>服务器端输出编码</strong>（对存储的数据进行转义）+ <strong>输入验证&#x2F;过滤</strong>（谨慎使用）。</td>\n<td><strong>安全的客户端编码</strong>（避免 <code>.innerHTML</code>, 使用 <code>.textContent</code>等）+ <strong>避免 <code>eval()</code>&#x2F;危险源</strong> + <strong>CSP</strong>。</td>\n</tr>\n</tbody></table>\n<h2 id=\"3、通关xss-lab1-8关卡，根据关卡的源码去解释一下自己为什么能通关，关卡如何防御的\"><a href=\"#3、通关xss-lab1-8关卡，根据关卡的源码去解释一下自己为什么能通关，关卡如何防御的\" class=\"headerlink\" title=\"3、通关xss-lab1-8关卡，根据关卡的源码去解释一下自己为什么能通关，关卡如何防御的\"></a>3、通关xss-lab1-8关卡，根据关卡的源码去解释一下自己为什么能通关，关卡如何防御的</h2><h3 id=\"Level-1\"><a href=\"#Level-1\" class=\"headerlink\" title=\"Level-1\"></a>Level-1</h3><p>直接在上方URL改变参数为<code>&lt;script&gt;alert(1)&lt;/script&gt;</code>，回车，就能通关</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/Five0ne15/picgo_pic@main/picgo_picture/image-20250825165218426.png\" alt=\"image-20250825165218426\"></p>\n<p>查看源代码</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span> </span><br><span class=\"line\"><span class=\"title function_ invoke__\">ini_set</span>(<span class=\"string\">&quot;display_errors&quot;</span>, <span class=\"number\">0</span>);</span><br><span class=\"line\"><span class=\"variable\">$str</span> = <span class=\"variable\">$_GET</span>[<span class=\"string\">&quot;name&quot;</span>];</span><br><span class=\"line\"><span class=\"keyword\">echo</span> <span class=\"string\">&quot;&lt;h2 align=center&gt;欢迎用户&quot;</span>.<span class=\"variable\">$str</span>.<span class=\"string\">&quot;&lt;/h2&gt;&quot;</span>;</span><br><span class=\"line\"><span class=\"meta\">?&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>可以发现是直接将前端传递进来的参数拼接到 html 中去，没有做任何过滤，输入简单的代码直接运行</p>\n<h3 id=\"Level-2\"><a href=\"#Level-2\" class=\"headerlink\" title=\"Level-2\"></a>Level-2</h3><p>直接在输入框输入<code>&quot;&gt;&lt;script&gt;alert(1)&lt;/script&gt;</code>，回车，就能通关</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/Five0ne15/picgo_pic@main/picgo_picture/image-20250825190210108.png\" alt=\"image-20250825190210108\"></p>\n<p>查看源代码</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span> </span><br><span class=\"line\"><span class=\"title function_ invoke__\">ini_set</span>(<span class=\"string\">&quot;display_errors&quot;</span>, <span class=\"number\">0</span>);</span><br><span class=\"line\"><span class=\"variable\">$str</span> = <span class=\"variable\">$_GET</span>[<span class=\"string\">&quot;keyword&quot;</span>];</span><br><span class=\"line\"><span class=\"keyword\">echo</span> <span class=\"string\">&quot;&lt;h2 align=center&gt;没有找到和&quot;</span>.<span class=\"title function_ invoke__\">htmlspecialchars</span>(<span class=\"variable\">$str</span>).<span class=\"string\">&quot;相关的结果.&lt;/h2&gt;&quot;</span>.<span class=\"string\">&#x27;&lt;center&gt;</span></span><br><span class=\"line\"><span class=\"string\">&lt;form action=level2.php method=GET&gt;</span></span><br><span class=\"line\"><span class=\"string\">&lt;input name=keyword  value=&quot;&#x27;</span>.<span class=\"variable\">$str</span>.<span class=\"string\">&#x27;&quot;&gt;</span></span><br><span class=\"line\"><span class=\"string\">&lt;input type=submit name=submit value=&quot;搜索&quot;/&gt;</span></span><br><span class=\"line\"><span class=\"string\">&lt;/form&gt;</span></span><br><span class=\"line\"><span class=\"string\">&lt;/center&gt;&#x27;</span>;</span><br><span class=\"line\"><span class=\"meta\">?&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>虽然在<code>echo &quot;&lt;h2 align=center&gt;没有找到和&quot;.htmlspecialchars($str).&quot;相关的结果.&lt;/h2&gt;&quot;.&#39;&lt;center&gt;</code>对传递的参数使用了特殊字符编码，但是在<code>&lt;input name=keyword  value=&quot;&#39;.$str.&#39;&quot;&gt;</code>并没有做什么特殊处理，只需要将语句闭合就可以成功</p>\n<h3 id=\"Level-3\"><a href=\"#Level-3\" class=\"headerlink\" title=\"Level-3\"></a>Level-3</h3><p>输入框输入<code>&#39; onclick=&#39;alert(1)</code>，点击搜索，再点击一下输入框，即可通关</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/Five0ne15/picgo_pic@main/picgo_picture/image-20250825190627024.png\" alt=\"image-20250825190627024\"></p>\n<p>查看源代码</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span> </span><br><span class=\"line\"><span class=\"title function_ invoke__\">ini_set</span>(<span class=\"string\">&quot;display_errors&quot;</span>, <span class=\"number\">0</span>);</span><br><span class=\"line\"><span class=\"variable\">$str</span> = <span class=\"variable\">$_GET</span>[<span class=\"string\">&quot;keyword&quot;</span>];</span><br><span class=\"line\"><span class=\"keyword\">echo</span> <span class=\"string\">&quot;&lt;h2 align=center&gt;没有找到和&quot;</span>.<span class=\"title function_ invoke__\">htmlspecialchars</span>(<span class=\"variable\">$str</span>).<span class=\"string\">&quot;相关的结果.&lt;/h2&gt;&quot;</span>.<span class=\"string\">&quot;&lt;center&gt;</span></span><br><span class=\"line\"><span class=\"string\">&lt;form action=level3.php method=GET&gt;</span></span><br><span class=\"line\"><span class=\"string\">&lt;input name=keyword  value=&#x27;&quot;</span>.<span class=\"title function_ invoke__\">htmlspecialchars</span>(<span class=\"variable\">$str</span>).<span class=\"string\">&quot;&#x27;&gt;</span></span><br><span class=\"line\"><span class=\"string\">&lt;input type=submit name=submit value=搜索 /&gt;</span></span><br><span class=\"line\"><span class=\"string\">&lt;/form&gt;</span></span><br><span class=\"line\"><span class=\"string\">&lt;/center&gt;&quot;</span>;</span><br><span class=\"line\"><span class=\"meta\">?&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>可以发现两处使用的地方均采用了特殊字符编码</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">h1</span> <span class=\"attr\">align</span>=<span class=\"string\">center</span>&gt;</span>欢迎来到level3<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">h2</span> <span class=\"attr\">align</span>=<span class=\"string\">center</span>&gt;</span>没有找到和&#x27; onclick=&#x27;alert(1)相关的结果.<span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">center</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">form</span> <span class=\"attr\">action</span>=<span class=\"string\">level3.php</span> <span class=\"attr\">method</span>=<span class=\"string\">GET</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">name</span>=<span class=\"string\">keyword</span>  <span class=\"attr\">value</span>=<span class=\"string\">&#x27;&#x27;</span> <span class=\"attr\">onclick</span>=<span class=\"string\">&#x27;alert(1)&#x27;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">submit</span> <span class=\"attr\">name</span>=<span class=\"string\">submit</span> <span class=\"attr\">value</span>=<span class=\"string\">搜索</span> /&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">form</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>在页面源代码可以发现输入的<code>&#39; onclick=&#39;alert(1)</code>并没有被编码，可以攻击成功</p>\n<h3 id=\"Level-4\"><a href=\"#Level-4\" class=\"headerlink\" title=\"Level-4\"></a>Level-4</h3><p>输入<code>&lt;script&gt;alert(1)&lt;/script&gt;</code></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/Five0ne15/picgo_pic@main/picgo_picture/image-20250825191139292.png\" alt=\"image-20250825191139292\"></p>\n<p>查看当前页面源代码</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">h1</span> <span class=\"attr\">align</span>=<span class=\"string\">center</span>&gt;</span>欢迎来到level4<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">h2</span> <span class=\"attr\">align</span>=<span class=\"string\">center</span>&gt;</span>没有找到和<span class=\"symbol\">&amp;lt;</span>script<span class=\"symbol\">&amp;gt;</span>alert(1)<span class=\"symbol\">&amp;lt;</span>/script<span class=\"symbol\">&amp;gt;</span>相关的结果.<span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">center</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">form</span> <span class=\"attr\">action</span>=<span class=\"string\">level4.php</span> <span class=\"attr\">method</span>=<span class=\"string\">GET</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">name</span>=<span class=\"string\">keyword</span>  <span class=\"attr\">value</span>=<span class=\"string\">&quot;scriptalert(1)/script&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">submit</span> <span class=\"attr\">name</span>=<span class=\"string\">submit</span> <span class=\"attr\">value</span>=<span class=\"string\">搜索</span> /&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">form</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>第一处特殊字符被编码，第二处原先输入的参数特殊字符消失</p>\n<p>输入<code>&quot; onclick=&quot;alert(1)</code>，点击输入框，显示过关</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/Five0ne15/picgo_pic@main/picgo_picture/image-20250825191743693.png\" alt=\"image-20250825191743693\"></p>\n<p>查看当前页面源代码</p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">h1</span> <span class=\"attr\">align</span>=<span class=\"string\">center</span>&gt;</span>欢迎来到level4<span class=\"tag\">&lt;/<span class=\"name\">h1</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">h2</span> <span class=\"attr\">align</span>=<span class=\"string\">center</span>&gt;</span>没有找到和<span class=\"symbol\">&amp;quot;</span> onclick=<span class=\"symbol\">&amp;quot;</span>alert(1)相关的结果.<span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">center</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">form</span> <span class=\"attr\">action</span>=<span class=\"string\">level4.php</span> <span class=\"attr\">method</span>=<span class=\"string\">GET</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">name</span>=<span class=\"string\">keyword</span>  <span class=\"attr\">value</span>=<span class=\"string\">&quot;&quot;</span> <span class=\"attr\">onclick</span>=<span class=\"string\">&quot;alert(1)&quot;</span>&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">input</span> <span class=\"attr\">type</span>=<span class=\"string\">submit</span> <span class=\"attr\">name</span>=<span class=\"string\">submit</span> <span class=\"attr\">value</span>=<span class=\"string\">搜索</span> /&gt;</span></span><br><span class=\"line\"><span class=\"tag\">&lt;/<span class=\"name\">form</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>第二处能够执行命令，输入的双引号成功闭合前面语句</p>\n<p>查看源代码</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span> </span><br><span class=\"line\"><span class=\"title function_ invoke__\">ini_set</span>(<span class=\"string\">&quot;display_errors&quot;</span>, <span class=\"number\">0</span>);</span><br><span class=\"line\"><span class=\"variable\">$str</span> = <span class=\"variable\">$_GET</span>[<span class=\"string\">&quot;keyword&quot;</span>];</span><br><span class=\"line\"><span class=\"variable\">$str2</span>=<span class=\"title function_ invoke__\">str_replace</span>(<span class=\"string\">&quot;&gt;&quot;</span>,<span class=\"string\">&quot;&quot;</span>,<span class=\"variable\">$str</span>);</span><br><span class=\"line\"><span class=\"variable\">$str3</span>=<span class=\"title function_ invoke__\">str_replace</span>(<span class=\"string\">&quot;&lt;&quot;</span>,<span class=\"string\">&quot;&quot;</span>,<span class=\"variable\">$str2</span>);</span><br><span class=\"line\"><span class=\"keyword\">echo</span> <span class=\"string\">&quot;&lt;h2 align=center&gt;没有找到和&quot;</span>.<span class=\"title function_ invoke__\">htmlspecialchars</span>(<span class=\"variable\">$str</span>).<span class=\"string\">&quot;相关的结果.&lt;/h2&gt;&quot;</span>.<span class=\"string\">&#x27;&lt;center&gt;</span></span><br><span class=\"line\"><span class=\"string\">&lt;form action=level4.php method=GET&gt;</span></span><br><span class=\"line\"><span class=\"string\">&lt;input name=keyword  value=&quot;&#x27;</span>.<span class=\"variable\">$str3</span>.<span class=\"string\">&#x27;&quot;&gt;</span></span><br><span class=\"line\"><span class=\"string\">&lt;input type=submit name=submit value=搜索 /&gt;</span></span><br><span class=\"line\"><span class=\"string\">&lt;/form&gt;</span></span><br><span class=\"line\"><span class=\"string\">&lt;/center&gt;&#x27;</span>;</span><br><span class=\"line\"><span class=\"meta\">?&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>发现对传递的参数将所有的<code>&lt;、&gt;</code>全部替换为空</p>\n<h3 id=\"Level-5\"><a href=\"#Level-5\" class=\"headerlink\" title=\"Level-5\"></a>Level-5</h3><p>输入框输入<code>&quot;&gt;&lt;a href=&#39;javascript:alert(1)&#39;&gt;</code>，点击右边出来的超链接，即可过关</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/Five0ne15/picgo_pic@main/picgo_picture/image-20250825192153891.png\" alt=\"image-20250825192153891\"></p>\n<p>查看源代码</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span> </span><br><span class=\"line\"><span class=\"title function_ invoke__\">ini_set</span>(<span class=\"string\">&quot;display_errors&quot;</span>, <span class=\"number\">0</span>);</span><br><span class=\"line\"><span class=\"variable\">$str</span> = <span class=\"title function_ invoke__\">strtolower</span>(<span class=\"variable\">$_GET</span>[<span class=\"string\">&quot;keyword&quot;</span>]);</span><br><span class=\"line\"><span class=\"variable\">$str2</span>=<span class=\"title function_ invoke__\">str_replace</span>(<span class=\"string\">&quot;&lt;script&quot;</span>,<span class=\"string\">&quot;&lt;scr_ipt&quot;</span>,<span class=\"variable\">$str</span>);</span><br><span class=\"line\"><span class=\"variable\">$str3</span>=<span class=\"title function_ invoke__\">str_replace</span>(<span class=\"string\">&quot;on&quot;</span>,<span class=\"string\">&quot;o_n&quot;</span>,<span class=\"variable\">$str2</span>);</span><br><span class=\"line\"><span class=\"keyword\">echo</span> <span class=\"string\">&quot;&lt;h2 align=center&gt;没有找到和&quot;</span>.<span class=\"title function_ invoke__\">htmlspecialchars</span>(<span class=\"variable\">$str</span>).<span class=\"string\">&quot;相关的结果.&lt;/h2&gt;&quot;</span>.<span class=\"string\">&#x27;&lt;center&gt;</span></span><br><span class=\"line\"><span class=\"string\">&lt;form action=level5.php method=GET&gt;</span></span><br><span class=\"line\"><span class=\"string\">&lt;input name=keyword  value=&quot;&#x27;</span>.<span class=\"variable\">$str3</span>.<span class=\"string\">&#x27;&quot;&gt;</span></span><br><span class=\"line\"><span class=\"string\">&lt;input type=submit name=submit value=搜索 /&gt;</span></span><br><span class=\"line\"><span class=\"string\">&lt;/form&gt;</span></span><br><span class=\"line\"><span class=\"string\">&lt;/center&gt;&#x27;</span>;</span><br><span class=\"line\"><span class=\"meta\">?&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>对传递进来的字符首先统一大小写，其次替换特定的语句，不能使用前面的方法，使用<a>标签，创建超链接</p>\n<h3 id=\"Level-6\"><a href=\"#Level-6\" class=\"headerlink\" title=\"Level-6\"></a>Level-6</h3><p>输入<code>&quot;&gt;&lt;scrIpt&gt;alert(1)&lt;/script&gt;</code>过关</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/Five0ne15/picgo_pic@main/picgo_picture/image-20250825192603014.png\" alt=\"image-20250825192603014\"></p>\n<p>查看源代码</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span> </span><br><span class=\"line\"><span class=\"title function_ invoke__\">ini_set</span>(<span class=\"string\">&quot;display_errors&quot;</span>, <span class=\"number\">0</span>);</span><br><span class=\"line\"><span class=\"variable\">$str</span> = <span class=\"variable\">$_GET</span>[<span class=\"string\">&quot;keyword&quot;</span>];</span><br><span class=\"line\"><span class=\"variable\">$str2</span>=<span class=\"title function_ invoke__\">str_replace</span>(<span class=\"string\">&quot;&lt;script&quot;</span>,<span class=\"string\">&quot;&lt;scr_ipt&quot;</span>,<span class=\"variable\">$str</span>);</span><br><span class=\"line\"><span class=\"variable\">$str3</span>=<span class=\"title function_ invoke__\">str_replace</span>(<span class=\"string\">&quot;on&quot;</span>,<span class=\"string\">&quot;o_n&quot;</span>,<span class=\"variable\">$str2</span>);</span><br><span class=\"line\"><span class=\"variable\">$str4</span>=<span class=\"title function_ invoke__\">str_replace</span>(<span class=\"string\">&quot;src&quot;</span>,<span class=\"string\">&quot;sr_c&quot;</span>,<span class=\"variable\">$str3</span>);</span><br><span class=\"line\"><span class=\"variable\">$str5</span>=<span class=\"title function_ invoke__\">str_replace</span>(<span class=\"string\">&quot;data&quot;</span>,<span class=\"string\">&quot;da_ta&quot;</span>,<span class=\"variable\">$str4</span>);</span><br><span class=\"line\"><span class=\"variable\">$str6</span>=<span class=\"title function_ invoke__\">str_replace</span>(<span class=\"string\">&quot;href&quot;</span>,<span class=\"string\">&quot;hr_ef&quot;</span>,<span class=\"variable\">$str5</span>);</span><br><span class=\"line\"><span class=\"keyword\">echo</span> <span class=\"string\">&quot;&lt;h2 align=center&gt;没有找到和&quot;</span>.<span class=\"title function_ invoke__\">htmlspecialchars</span>(<span class=\"variable\">$str</span>).<span class=\"string\">&quot;相关的结果.&lt;/h2&gt;&quot;</span>.<span class=\"string\">&#x27;&lt;center&gt;</span></span><br><span class=\"line\"><span class=\"string\">&lt;form action=level6.php method=GET&gt;</span></span><br><span class=\"line\"><span class=\"string\">&lt;input name=keyword  value=&quot;&#x27;</span>.<span class=\"variable\">$str6</span>.<span class=\"string\">&#x27;&quot;&gt;</span></span><br><span class=\"line\"><span class=\"string\">&lt;input type=submit name=submit value=搜索 /&gt;</span></span><br><span class=\"line\"><span class=\"string\">&lt;/form&gt;</span></span><br><span class=\"line\"><span class=\"string\">&lt;/center&gt;&#x27;</span>;</span><br><span class=\"line\"><span class=\"meta\">?&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>可以发现虽然对特定语句进行了替换，但是没有统一大小写</p>\n<h3 id=\"Level-7\"><a href=\"#Level-7\" class=\"headerlink\" title=\"Level-7\"></a>Level-7</h3><p>输入<code>&quot;&gt;&lt;scscriptript&gt;alert(1)&lt;/scrscriptipt&gt;</code>过关</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/Five0ne15/picgo_pic@main/picgo_picture/image-20250825192833207.png\" alt=\"image-20250825192833207\"></p>\n<p>第一次输入<code>&quot;&gt;&lt;script&gt;alert(1)&lt;/script&gt;</code>回显发现所有的<code>script</code>全部消失，可能是对<code>script</code>进行过滤，采用双写过关</p>\n<p>查看源代码</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span> </span><br><span class=\"line\"><span class=\"title function_ invoke__\">ini_set</span>(<span class=\"string\">&quot;display_errors&quot;</span>, <span class=\"number\">0</span>);</span><br><span class=\"line\"><span class=\"variable\">$str</span> =<span class=\"title function_ invoke__\">strtolower</span>( <span class=\"variable\">$_GET</span>[<span class=\"string\">&quot;keyword&quot;</span>]);</span><br><span class=\"line\"><span class=\"variable\">$str2</span>=<span class=\"title function_ invoke__\">str_replace</span>(<span class=\"string\">&quot;script&quot;</span>,<span class=\"string\">&quot;&quot;</span>,<span class=\"variable\">$str</span>);</span><br><span class=\"line\"><span class=\"variable\">$str3</span>=<span class=\"title function_ invoke__\">str_replace</span>(<span class=\"string\">&quot;on&quot;</span>,<span class=\"string\">&quot;&quot;</span>,<span class=\"variable\">$str2</span>);</span><br><span class=\"line\"><span class=\"variable\">$str4</span>=<span class=\"title function_ invoke__\">str_replace</span>(<span class=\"string\">&quot;src&quot;</span>,<span class=\"string\">&quot;&quot;</span>,<span class=\"variable\">$str3</span>);</span><br><span class=\"line\"><span class=\"variable\">$str5</span>=<span class=\"title function_ invoke__\">str_replace</span>(<span class=\"string\">&quot;data&quot;</span>,<span class=\"string\">&quot;&quot;</span>,<span class=\"variable\">$str4</span>);</span><br><span class=\"line\"><span class=\"variable\">$str6</span>=<span class=\"title function_ invoke__\">str_replace</span>(<span class=\"string\">&quot;href&quot;</span>,<span class=\"string\">&quot;&quot;</span>,<span class=\"variable\">$str5</span>);</span><br><span class=\"line\"><span class=\"keyword\">echo</span> <span class=\"string\">&quot;&lt;h2 align=center&gt;没有找到和&quot;</span>.<span class=\"title function_ invoke__\">htmlspecialchars</span>(<span class=\"variable\">$str</span>).<span class=\"string\">&quot;相关的结果.&lt;/h2&gt;&quot;</span>.<span class=\"string\">&#x27;&lt;center&gt;</span></span><br><span class=\"line\"><span class=\"string\">&lt;form action=level7.php method=GET&gt;</span></span><br><span class=\"line\"><span class=\"string\">&lt;input name=keyword  value=&quot;&#x27;</span>.<span class=\"variable\">$str6</span>.<span class=\"string\">&#x27;&quot;&gt;</span></span><br><span class=\"line\"><span class=\"string\">&lt;input type=submit name=submit value=搜索 /&gt;</span></span><br><span class=\"line\"><span class=\"string\">&lt;/form&gt;</span></span><br><span class=\"line\"><span class=\"string\">&lt;/center&gt;&#x27;</span>;</span><br><span class=\"line\"><span class=\"meta\">?&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>对传递的参数进行空字符替换，双写即可</p>\n<h3 id=\"Level-8\"><a href=\"#Level-8\" class=\"headerlink\" title=\"Level-8\"></a>Level-8</h3><p>输入<code>javascrip&amp;#116;:alert(1)</code>，点击友情链接，过关</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/Five0ne15/picgo_pic@main/picgo_picture/image-20250825193235868.png\" alt=\"image-20250825193235868\"></p>\n<p>查看源代码</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br><span class=\"line\">9</span><br><span class=\"line\">10</span><br><span class=\"line\">11</span><br><span class=\"line\">12</span><br><span class=\"line\">13</span><br><span class=\"line\">14</span><br><span class=\"line\">15</span><br><span class=\"line\">16</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"meta\">&lt;?php</span> </span><br><span class=\"line\"><span class=\"title function_ invoke__\">ini_set</span>(<span class=\"string\">&quot;display_errors&quot;</span>, <span class=\"number\">0</span>);</span><br><span class=\"line\"><span class=\"variable\">$str</span> = <span class=\"title function_ invoke__\">strtolower</span>(<span class=\"variable\">$_GET</span>[<span class=\"string\">&quot;keyword&quot;</span>]);</span><br><span class=\"line\"><span class=\"variable\">$str2</span>=<span class=\"title function_ invoke__\">str_replace</span>(<span class=\"string\">&quot;script&quot;</span>,<span class=\"string\">&quot;scr_ipt&quot;</span>,<span class=\"variable\">$str</span>);</span><br><span class=\"line\"><span class=\"variable\">$str3</span>=<span class=\"title function_ invoke__\">str_replace</span>(<span class=\"string\">&quot;on&quot;</span>,<span class=\"string\">&quot;o_n&quot;</span>,<span class=\"variable\">$str2</span>);</span><br><span class=\"line\"><span class=\"variable\">$str4</span>=<span class=\"title function_ invoke__\">str_replace</span>(<span class=\"string\">&quot;src&quot;</span>,<span class=\"string\">&quot;sr_c&quot;</span>,<span class=\"variable\">$str3</span>);</span><br><span class=\"line\"><span class=\"variable\">$str5</span>=<span class=\"title function_ invoke__\">str_replace</span>(<span class=\"string\">&quot;data&quot;</span>,<span class=\"string\">&quot;da_ta&quot;</span>,<span class=\"variable\">$str4</span>);</span><br><span class=\"line\"><span class=\"variable\">$str6</span>=<span class=\"title function_ invoke__\">str_replace</span>(<span class=\"string\">&quot;href&quot;</span>,<span class=\"string\">&quot;hr_ef&quot;</span>,<span class=\"variable\">$str5</span>);</span><br><span class=\"line\"><span class=\"variable\">$str7</span>=<span class=\"title function_ invoke__\">str_replace</span>(<span class=\"string\">&#x27;&quot;&#x27;</span>,<span class=\"string\">&#x27;&amp;quot&#x27;</span>,<span class=\"variable\">$str6</span>);</span><br><span class=\"line\"><span class=\"keyword\">echo</span> <span class=\"string\">&#x27;&lt;center&gt;</span></span><br><span class=\"line\"><span class=\"string\">&lt;form action=level8.php method=GET&gt;</span></span><br><span class=\"line\"><span class=\"string\">&lt;input name=keyword  value=&quot;&#x27;</span>.<span class=\"title function_ invoke__\">htmlspecialchars</span>(<span class=\"variable\">$str</span>).<span class=\"string\">&#x27;&quot;&gt;</span></span><br><span class=\"line\"><span class=\"string\">&lt;input type=submit name=submit value=添加友情链接 /&gt;</span></span><br><span class=\"line\"><span class=\"string\">&lt;/form&gt;</span></span><br><span class=\"line\"><span class=\"string\">&lt;/center&gt;&#x27;</span>;</span><br><span class=\"line\"><span class=\"meta\">?&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p>首先进行统一大小写，接着又是特定字符替换，还进行了特殊字符编码，使用 javascript 伪协议实体编码来绕过</p>\n<h2 id=\"4、将1-8关代码里的防御手段所涉及到的函数都使用一遍，看一下效果\"><a href=\"#4、将1-8关代码里的防御手段所涉及到的函数都使用一遍，看一下效果\" class=\"headerlink\" title=\"4、将1-8关代码里的防御手段所涉及到的函数都使用一遍，看一下效果\"></a>4、将1-8关代码里的防御手段所涉及到的函数都使用一遍，看一下效果</h2><figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"keyword\">echo</span> <span class=\"string\">&quot;&lt;h2 align=center&gt;没有找到和&quot;</span>.<span class=\"title function_ invoke__\">htmlspecialchars</span>(<span class=\"variable\">$str</span>).<span class=\"string\">&quot;相关的结果.&lt;/h2&gt;&quot;</span>.<span class=\"string\">&#x27;&lt;center&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://cdn.jsdelivr.net/gh/Five0ne15/picgo_pic@main/picgo_picture/image-20250825194433398.png\" alt=\"image-20250825194433398\"></p>\n<figure class=\"highlight html\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"tag\">&lt;<span class=\"name\">h2</span> <span class=\"attr\">align</span>=<span class=\"string\">center</span>&gt;</span>没有找到和<span class=\"symbol\">&amp;lt;</span>script<span class=\"symbol\">&amp;gt;</span>alert(1)<span class=\"symbol\">&amp;lt;</span>/script<span class=\"symbol\">&amp;gt;</span>相关的结果.<span class=\"tag\">&lt;/<span class=\"name\">h2</span>&gt;</span><span class=\"tag\">&lt;<span class=\"name\">center</span>&gt;</span></span><br></pre></td></tr></table></figure>\n\n<p><code>htmlspecialchars($str)</code>特殊字符编码</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable\">$str2</span>=<span class=\"title function_ invoke__\">str_replace</span>(<span class=\"string\">&quot;&gt;&quot;</span>,<span class=\"string\">&quot;&quot;</span>,<span class=\"variable\">$str</span>);</span><br><span class=\"line\"><span class=\"variable\">$str3</span>=<span class=\"title function_ invoke__\">str_replace</span>(<span class=\"string\">&quot;&lt;&quot;</span>,<span class=\"string\">&quot;&quot;</span>,<span class=\"variable\">$str2</span>);</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://cdn.jsdelivr.net/gh/Five0ne15/picgo_pic@main/picgo_picture/image-20250825194802628.png\" alt=\"image-20250825194802628\"></p>\n<p>替换符号为空</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable\">$str2</span>=<span class=\"title function_ invoke__\">str_replace</span>(<span class=\"string\">&quot;&lt;script&quot;</span>,<span class=\"string\">&quot;&lt;scr_ipt&quot;</span>,<span class=\"variable\">$str</span>);</span><br><span class=\"line\"><span class=\"variable\">$str3</span>=<span class=\"title function_ invoke__\">str_replace</span>(<span class=\"string\">&quot;on&quot;</span>,<span class=\"string\">&quot;o_n&quot;</span>,<span class=\"variable\">$str2</span>);</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://cdn.jsdelivr.net/gh/Five0ne15/picgo_pic@main/picgo_picture/image-20250825194856412.png\" alt=\"image-20250825194856412\"></p>\n<p>替换特定字符</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable\">$str</span> = <span class=\"variable\">$_GET</span>[<span class=\"string\">&quot;keyword&quot;</span>];</span><br><span class=\"line\"><span class=\"variable\">$str2</span>=<span class=\"title function_ invoke__\">str_replace</span>(<span class=\"string\">&quot;&lt;script&quot;</span>,<span class=\"string\">&quot;&lt;scr_ipt&quot;</span>,<span class=\"variable\">$str</span>);</span><br><span class=\"line\"><span class=\"variable\">$str3</span>=<span class=\"title function_ invoke__\">str_replace</span>(<span class=\"string\">&quot;on&quot;</span>,<span class=\"string\">&quot;o_n&quot;</span>,<span class=\"variable\">$str2</span>);</span><br><span class=\"line\"><span class=\"variable\">$str4</span>=<span class=\"title function_ invoke__\">str_replace</span>(<span class=\"string\">&quot;src&quot;</span>,<span class=\"string\">&quot;sr_c&quot;</span>,<span class=\"variable\">$str3</span>);</span><br><span class=\"line\"><span class=\"variable\">$str5</span>=<span class=\"title function_ invoke__\">str_replace</span>(<span class=\"string\">&quot;data&quot;</span>,<span class=\"string\">&quot;da_ta&quot;</span>,<span class=\"variable\">$str4</span>);</span><br><span class=\"line\"><span class=\"variable\">$str6</span>=<span class=\"title function_ invoke__\">str_replace</span>(<span class=\"string\">&quot;href&quot;</span>,<span class=\"string\">&quot;hr_ef&quot;</span>,<span class=\"variable\">$str5</span>);</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://cdn.jsdelivr.net/gh/Five0ne15/picgo_pic@main/picgo_picture/image-20250825195024336.png\" alt=\"image-20250825195024336\"></p>\n<p>替换特定字符但未统一大小写</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable\">$str2</span>=<span class=\"title function_ invoke__\">str_replace</span>(<span class=\"string\">&quot;script&quot;</span>,<span class=\"string\">&quot;&quot;</span>,<span class=\"variable\">$str</span>);</span><br><span class=\"line\"><span class=\"variable\">$str3</span>=<span class=\"title function_ invoke__\">str_replace</span>(<span class=\"string\">&quot;on&quot;</span>,<span class=\"string\">&quot;&quot;</span>,<span class=\"variable\">$str2</span>);</span><br><span class=\"line\"><span class=\"variable\">$str4</span>=<span class=\"title function_ invoke__\">str_replace</span>(<span class=\"string\">&quot;src&quot;</span>,<span class=\"string\">&quot;&quot;</span>,<span class=\"variable\">$str3</span>);</span><br><span class=\"line\"><span class=\"variable\">$str5</span>=<span class=\"title function_ invoke__\">str_replace</span>(<span class=\"string\">&quot;data&quot;</span>,<span class=\"string\">&quot;&quot;</span>,<span class=\"variable\">$str4</span>);</span><br><span class=\"line\"><span class=\"variable\">$str6</span>=<span class=\"title function_ invoke__\">str_replace</span>(<span class=\"string\">&quot;href&quot;</span>,<span class=\"string\">&quot;&quot;</span>,<span class=\"variable\">$str5</span>);</span><br></pre></td></tr></table></figure>\n\n<p><img src=\"https://cdn.jsdelivr.net/gh/Five0ne15/picgo_pic@main/picgo_picture/image-20250825195217697.png\" alt=\"image-20250825195217697\"></p>\n<p>统一大小写但是只是把特定字符替换为空，可以双写绕过</p>\n<figure class=\"highlight php\"><table><tr><td class=\"gutter\"><pre><span class=\"line\">1</span><br><span class=\"line\">2</span><br><span class=\"line\">3</span><br><span class=\"line\">4</span><br><span class=\"line\">5</span><br><span class=\"line\">6</span><br><span class=\"line\">7</span><br><span class=\"line\">8</span><br></pre></td><td class=\"code\"><pre><span class=\"line\"><span class=\"variable\">$str</span> = <span class=\"title function_ invoke__\">strtolower</span>(<span class=\"variable\">$_GET</span>[<span class=\"string\">&quot;keyword&quot;</span>]);</span><br><span class=\"line\"><span class=\"variable\">$str2</span>=<span class=\"title function_ invoke__\">str_replace</span>(<span class=\"string\">&quot;script&quot;</span>,<span class=\"string\">&quot;scr_ipt&quot;</span>,<span class=\"variable\">$str</span>);</span><br><span class=\"line\"><span class=\"variable\">$str3</span>=<span class=\"title function_ invoke__\">str_replace</span>(<span class=\"string\">&quot;on&quot;</span>,<span class=\"string\">&quot;o_n&quot;</span>,<span class=\"variable\">$str2</span>);</span><br><span class=\"line\"><span class=\"variable\">$str4</span>=<span class=\"title function_ invoke__\">str_replace</span>(<span class=\"string\">&quot;src&quot;</span>,<span class=\"string\">&quot;sr_c&quot;</span>,<span class=\"variable\">$str3</span>);</span><br><span class=\"line\"><span class=\"variable\">$str5</span>=<span class=\"title function_ invoke__\">str_replace</span>(<span class=\"string\">&quot;data&quot;</span>,<span class=\"string\">&quot;da_ta&quot;</span>,<span class=\"variable\">$str4</span>);</span><br><span class=\"line\"><span class=\"variable\">$str6</span>=<span class=\"title function_ invoke__\">str_replace</span>(<span class=\"string\">&quot;href&quot;</span>,<span class=\"string\">&quot;hr_ef&quot;</span>,<span class=\"variable\">$str5</span>);</span><br><span class=\"line\"><span class=\"variable\">$str7</span>=<span class=\"title function_ invoke__\">str_replace</span>(<span class=\"string\">&#x27;&quot;&#x27;</span>,<span class=\"string\">&#x27;&amp;quot&#x27;</span>,<span class=\"variable\">$str6</span>);</span><br><span class=\"line\">&lt;input name=keyword  value=<span class=\"string\">&quot;&#x27;.htmlspecialchars(<span class=\"subst\">$str</span>).&#x27;&quot;</span>&gt;</span><br></pre></td></tr></table></figure>\n\n<p>统一大小写，特定字符替换，特殊符号编码</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/Five0ne15/picgo_pic@main/picgo_picture/image-20250825195637540.png\" alt=\"image-20250825195637540\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/Five0ne15/picgo_pic@main/picgo_picture/image-20250825195647578.png\" alt=\"image-20250825195647578\"></p>\n<h2 id=\"5、使用一下xss盲打操作\"><a href=\"#5、使用一下xss盲打操作\" class=\"headerlink\" title=\"5、使用一下xss盲打操作\"></a>5、使用一下xss盲打操作</h2><p>在留言位置输入<code>&lt;script&gt;alert(111)&lt;/script&gt;</code>，名字随便输，点击提交</p>\n<p>登录后台</p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/Five0ne15/picgo_pic@main/picgo_picture/image-20250825195843142.png\" alt=\"image-20250825195843142\"></p>\n<p><img src=\"https://cdn.jsdelivr.net/gh/Five0ne15/picgo_pic@main/picgo_picture/image-20250825200043191.png\" alt=\"image-20250825200043191\"></p>\n<p>以后每次登录后台都会有弹窗</p>\n<h1 id=\"扩展\"><a href=\"#扩展\" class=\"headerlink\" title=\"扩展\"></a>扩展</h1><h2 id=\"尝试将pikachu靶场的cookie手动写入到另一个浏览器\"><a href=\"#尝试将pikachu靶场的cookie手动写入到另一个浏览器\" class=\"headerlink\" title=\"尝试将pikachu靶场的cookie手动写入到另一个浏览器\"></a>尝试将pikachu靶场的cookie手动写入到另一个浏览器</h2><h2 id=\"尝试安装xss平台\"><a href=\"#尝试安装xss平台\" class=\"headerlink\" title=\"尝试安装xss平台\"></a>尝试安装xss平台</h2>","text":"1、通关dvwa靶场三个难度的反射型xssLOW 在输入框中输入<script>alert(/123/)</script>点击Submit提交，页面显示弹窗，内...","permalink":"/post/day11-test","photos":[],"count_time":{"symbolsCount":"14k","symbolsTime":"12 mins."},"categories":[],"tags":[{"name":"练习","slug":"练习","count":14,"path":"api/tags/练习.json"}],"toc":"<ol class=\"toc\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#1%E3%80%81%E9%80%9A%E5%85%B3dvwa%E9%9D%B6%E5%9C%BA%E4%B8%89%E4%B8%AA%E9%9A%BE%E5%BA%A6%E7%9A%84%E5%8F%8D%E5%B0%84%E5%9E%8Bxss\"><span class=\"toc-text\">1、通关dvwa靶场三个难度的反射型xss</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#LOW\"><span class=\"toc-text\">LOW</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Medium\"><span class=\"toc-text\">Medium</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#High\"><span class=\"toc-text\">High</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#2%E3%80%81%E6%BC%94%E7%A4%BA%E5%8F%8D%E5%B0%84%E5%9E%8B%EF%BC%8C%E5%AD%98%E5%82%A8%E5%9E%8B%EF%BC%8CDOM%E5%9E%8BXSS%E6%BC%8F%E6%B4%9E%EF%BC%8C%E8%AF%B4%E6%98%8E%E4%B8%89%E8%80%85%E7%9A%84%E5%8C%BA%E5%88%AB\"><span class=\"toc-text\">2、演示反射型，存储型，DOM型XSS漏洞，说明三者的区别</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%8F%8D%E5%B0%84%E5%9E%8B\"><span class=\"toc-text\">反射型</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%AD%98%E5%82%A8%E5%9E%8B\"><span class=\"toc-text\">存储型</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#DOM%E5%9E%8B\"><span class=\"toc-text\">DOM型</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#%E5%8C%BA%E5%88%AB\"><span class=\"toc-text\">区别</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#3%E3%80%81%E9%80%9A%E5%85%B3xss-lab1-8%E5%85%B3%E5%8D%A1%EF%BC%8C%E6%A0%B9%E6%8D%AE%E5%85%B3%E5%8D%A1%E7%9A%84%E6%BA%90%E7%A0%81%E5%8E%BB%E8%A7%A3%E9%87%8A%E4%B8%80%E4%B8%8B%E8%87%AA%E5%B7%B1%E4%B8%BA%E4%BB%80%E4%B9%88%E8%83%BD%E9%80%9A%E5%85%B3%EF%BC%8C%E5%85%B3%E5%8D%A1%E5%A6%82%E4%BD%95%E9%98%B2%E5%BE%A1%E7%9A%84\"><span class=\"toc-text\">3、通关xss-lab1-8关卡，根据关卡的源码去解释一下自己为什么能通关，关卡如何防御的</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Level-1\"><span class=\"toc-text\">Level-1</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Level-2\"><span class=\"toc-text\">Level-2</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Level-3\"><span class=\"toc-text\">Level-3</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Level-4\"><span class=\"toc-text\">Level-4</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Level-5\"><span class=\"toc-text\">Level-5</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Level-6\"><span class=\"toc-text\">Level-6</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Level-7\"><span class=\"toc-text\">Level-7</span></a></li><li class=\"toc-item toc-level-3\"><a class=\"toc-link\" href=\"#Level-8\"><span class=\"toc-text\">Level-8</span></a></li></ol></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#4%E3%80%81%E5%B0%861-8%E5%85%B3%E4%BB%A3%E7%A0%81%E9%87%8C%E7%9A%84%E9%98%B2%E5%BE%A1%E6%89%8B%E6%AE%B5%E6%89%80%E6%B6%89%E5%8F%8A%E5%88%B0%E7%9A%84%E5%87%BD%E6%95%B0%E9%83%BD%E4%BD%BF%E7%94%A8%E4%B8%80%E9%81%8D%EF%BC%8C%E7%9C%8B%E4%B8%80%E4%B8%8B%E6%95%88%E6%9E%9C\"><span class=\"toc-text\">4、将1-8关代码里的防御手段所涉及到的函数都使用一遍，看一下效果</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#5%E3%80%81%E4%BD%BF%E7%94%A8%E4%B8%80%E4%B8%8Bxss%E7%9B%B2%E6%89%93%E6%93%8D%E4%BD%9C\"><span class=\"toc-text\">5、使用一下xss盲打操作</span></a></li></ol></li><li class=\"toc-item toc-level-1\"><a class=\"toc-link\" href=\"#%E6%89%A9%E5%B1%95\"><span class=\"toc-text\">扩展</span></a><ol class=\"toc-child\"><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%B0%9D%E8%AF%95%E5%B0%86pikachu%E9%9D%B6%E5%9C%BA%E7%9A%84cookie%E6%89%8B%E5%8A%A8%E5%86%99%E5%85%A5%E5%88%B0%E5%8F%A6%E4%B8%80%E4%B8%AA%E6%B5%8F%E8%A7%88%E5%99%A8\"><span class=\"toc-text\">尝试将pikachu靶场的cookie手动写入到另一个浏览器</span></a></li><li class=\"toc-item toc-level-2\"><a class=\"toc-link\" href=\"#%E5%B0%9D%E8%AF%95%E5%AE%89%E8%A3%85xss%E5%B9%B3%E5%8F%B0\"><span class=\"toc-text\">尝试安装xss平台</span></a></li></ol>","author":{"name":"wyf","slug":"blog-author","avatar":"https://cdn.jsdelivr.net/gh/Five0ne15/picgo_pic@main/picgo_picture/18ca1dd2a86b2210b1ab142498bcf0b0.jpg","link":"/","description":"不知道应该写点什么，就这么看着吧","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}},"mapped":true,"hidden":false,"prev_post":{"title":"day12-test","uid":"3573bf1d520c4107730189122a19bec7","slug":"day12-test","date":"2025-08-26T07:52:04.000Z","updated":"2025-09-02T07:47:23.518Z","comments":true,"path":"api/articles/day12-test.json","keywords":null,"cover":[],"text":"1、通关文件上传靶场1，2，3，4，10关卡Pass-01直接上传 .php 文件会发现不让上传 修改文件后缀为 .png ，再次上传，抓包，将后缀改回 .ph...","permalink":"/post/day12-test","photos":[],"count_time":{"symbolsCount":"4.2k","symbolsTime":"4 mins."},"categories":[],"tags":[{"name":"练习","slug":"练习","count":14,"path":"api/tags/练习.json"}],"author":{"name":"wyf","slug":"blog-author","avatar":"https://cdn.jsdelivr.net/gh/Five0ne15/picgo_pic@main/picgo_picture/18ca1dd2a86b2210b1ab142498bcf0b0.jpg","link":"/","description":"不知道应该写点什么，就这么看着吧","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}},"next_post":{"title":"XSS攻击","uid":"1cc67b731b39ffe2f01ec906867d987d","slug":"XSS攻击","date":"2025-08-25T03:00:17.000Z","updated":"2025-08-25T03:23:39.186Z","comments":true,"path":"api/articles/XSS攻击.json","keywords":null,"cover":[],"text":"XSS攻击核心概念 本质： XSS 攻击允许攻击者将恶意的客户端脚本代码（通常是 JavaScript） 注入到其他用户会访问的网页中。 目标： 当受害者的浏览...","permalink":"/post/XSS攻击","photos":[],"count_time":{"symbolsCount":"4.4k","symbolsTime":"4 mins."},"categories":[],"tags":[{"name":"Web","slug":"Web","count":5,"path":"api/tags/Web.json"}],"author":{"name":"wyf","slug":"blog-author","avatar":"https://cdn.jsdelivr.net/gh/Five0ne15/picgo_pic@main/picgo_picture/18ca1dd2a86b2210b1ab142498bcf0b0.jpg","link":"/","description":"不知道应该写点什么，就这么看着吧","socials":{"github":"","twitter":"","stackoverflow":"","wechat":"","qq":"","weibo":"","zhihu":"","csdn":"","juejin":"","customs":{}}}}}